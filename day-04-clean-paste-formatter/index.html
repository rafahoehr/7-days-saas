<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Limpador de Formatação</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center h-screen">
    <div class="bg-white p-8 rounded-lg shadow-md w-full max-w-4xl">
        <h1 class="text-2xl font-bold text-center mb-6">Limpador de Formatação (Clean Paste)</h1>
        <div class="grid grid-cols-2 gap-4">
            <div>
                <label for="dirty-input" class="block text-gray-700 mb-2">Texto Sujo (Cole Aqui)</label>
                <textarea id="dirty-input" class="w-full h-64 p-2 border rounded-lg" placeholder="Cole o texto do Google Docs, Word, etc."></textarea>
            </div>
            <div>
                <label for="clean-output" class="block text-gray-700 mb-2">Texto Limpo</label>
                <textarea id="clean-output" class="w-full h-64 p-2 border rounded-lg bg-gray-50" readonly></textarea>
            </div>
        </div>
        <button id="copyBtn" class="w-full bg-blue-500 text-white py-2 rounded-lg mt-4">Copiar Texto Limpo</button>
    </div>

    <script>
        const dirtyInput = document.getElementById('dirty-input');
        const cleanOutput = document.getElementById('clean-output');
        const copyBtn = document.getElementById('copyBtn');

        function cleanText() {
            let text = dirtyInput.value;
            // Remove all tags except for p, br, a, ul, ol, li, h1, h2, h3, strong, em
            text = text.replace(/<(?!p|\/p|br|\/br|a|\/a|ul|\/ul|ol|\/ol|li|\/li|h1|\/h1|h2|\/h2|h3|\/h3|strong|\/strong|em|\/em)[^>]+>/g, '');
            // Remove all attributes except for href on a tags
            text = text.replace(/<([a-z][a-z0-9]*)[^>]*?(\s+href\s*=\s*['"][^'"]*['"])?[^>]*?>/gi, '<$1$2>');
            cleanOutput.value = text;
        }

        dirtyInput.addEventListener('input', cleanText);

        copyBtn.addEventListener('click', () => {
            navigator.clipboard.writeText(cleanOutput.value);
        });
    </script>
</body>
</html>